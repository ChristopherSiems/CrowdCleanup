<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <style>
        body {
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            text-align: center;
        }

        .container {
            margin-top: 100px;
        }

        h1 {
            font-size: 28px; /* Adjust the font size as needed */
            margin-bottom: 20px;
        }

        .logo {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 100px; /* Adjust the width as needed */
        }

        .button {
            display: none; /* Hide buttons initially */
        }

        .error-message {
            color: red;
            margin-top: 5px;
            display: none;
        }

        #title {
            display: block; /* Show the title initially */
        }

        #zipCodeForm {
            display: inline-block;
        }
    </style>
</head>

<body>
    <div class="container">
        <img src="{% static 'crowdCleanup.jpg' %}" alt="Crowd Cleanup Logo" class="logo" style="width: 300px; height: auto;">
        <h1 id="title">Please Enter Your ZIP Code</h1> <!-- Initially displays this title -->
        <form action="{%url 'clean_litter'%}" method="post">
            {% csrf_token %}
            <input type="text" name="zip_code" placeholder="Enter Zip Code" maxlength="5">
            <button type="submit">Submit</button>
            <p class="error-message" id="zipCodeErrorMessage">Please enter a valid ZIP Code</p>
        </form>
    </div>

    <script>
        document.getElementById('zipCodeForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent form submission

            // Get the entered zip code
            var zipCode = document.getElementById('zipCodeInput').value;

            // Check if the zip code is a 5-digit number
            if (/^\d{5}$/.test(zipCode)) {
                // Save the zip code in local storage
                localStorage.setItem('zipCode', zipCode);

                // Redirect to the clean_litter.html page
                window.location.href = "{% url 'clean_litter' %}";
            } else {
                // Show error message for invalid zip code
                document.getElementById('zipCodeErrorMessage').style.display = 'block';
            }
        });
    </script>
</body>

</html>
